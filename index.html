<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Winoteka - Profesjonalna aplikacja do skanowania i rozpoznawania win">
    <meta name="theme-color" content="#2C1810">
    <title>Winoteka - Skanuj swoje wino</title>
    
    <!-- PWA Support -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIldpbm90ZWthIiwKICAic2hvcnRfbmFtZSI6ICJXaW5vdGVrYSIsCiAgImRlc2NyaXB0aW9uIjogIlByb2Zlc2pvbmFsbmEgYXBsaWthY2phIGRvIHNrYW5vd2FuaWEgaSByb3pwb3puYXdhbmlhIHdpbiIsCiAgInN0YXJ0X3VybCI6ICIuLyIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiIzJDMTgxMCIsCiAgInRoZW1lX2NvbG9yIjogIiMyQzE4MTAiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOVFlpSUdobGFXZG9kRDBpTWpVMklqNDhjbVZqZENCM2FXUjBhRDBpTWpVMklpQm9aV2xuYUhROUlqSTFOaUlnWm1sc2JEMGlJemd5TkRFeE15SXZQanh3WVhSb0lHUTlJazB4TWpndU5TQTBiQzAxTGpVZ015NUlOekJoTWlBeElEQWdNQ0F3TFRJZ01sMDNMalUnJzBNVGM0TGpWek5TMU1NakF1TlNCeU5DQTBJREFnTUMwd0xUSWdNaUl6TVRjdU5YTXhMalVnTWk0MUlETWdOU0kySURVZ015QTFZekF1TkNBeExqWWdNUzQySURJdU5TQXpJREl1TlNJeklEQWdOUzB5SURZdE5TQldPWE10TWkweUxUSTBiQzB5TGpVZ00yZ3RPR0V5SURJdE1DQXdJREF0TWkweUlGWXpTRFkxZGpkak1DQXpJREl1TlNBMUlEWWdOV29pSUhOMGNtOXJaVDBpSXpadkRpSWdabWxzYkQwaUl6azVPU0l2UGp3dmMzWm5QZz09IiwKICAgICAgInNpemVzIjogIjI1NngyNTYiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0KfQ==">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iIzgyNDExMyIvPjxwYXRoIGQ9Ik0xMjguNSA0bC01LjUgM0g3MGEyIDIgMCAwIDAtMiAydjE3OC41czUtTDIwLjUgcjQgNCAwIDAgMC0yIDJ6MTcuNXMxLjUgMi41IDMgNS02IDUtMyA1YzAuNCAxLjYgMS42IDIuNSAzIDIuNXMzIDAgNS0yIDYtNSBWOXMtMi0yLTI0bC0yLjUgM2gtOGEyIDItMCAwIDAtMi0yIFYzSDY1djdjMCAzIDIuNSA1IDYgNXoiIHN0cm9rZT0iIzZmZiIgZmlsbD0iIzk5OSIvPjwvc3ZnPg==">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Cormorant Garamond', serif;
        }
        
        /* Spinner dla ładowania */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;
        
        // Ikony Lucide
        const Camera = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/>
                <circle cx="12" cy="13" r="3"/>
            </svg>
        );

        const Wine = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M8 22h8"/>
                <path d="M12 15v7"/>
                <path d="M12 15c3.5 0 6-2 6-5V3H6v7c0 3 2.5 5 6 5z"/>
            </svg>
        );

        const Droplets = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"/>
                <path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"/>
            </svg>
        );

        const Info = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 16v-4"/>
                <path d="M12 8h.01"/>
            </svg>
        );

        const Loader2 = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M21 12a9 9 0 1 1-6.219-8.56"/>
            </svg>
        );

        const X = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M18 6 6 18"/>
                <path d="m6 6 12 12"/>
            </svg>
        );

        const Heart = ({ size = 24, filled = false, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
            </svg>
        );

        const History = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                <path d="M3 3v5h5"/>
                <path d="M12 7v5l4 2"/>
            </svg>
        );

        const Share2 = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <circle cx="18" cy="5" r="3"/>
                <circle cx="6" cy="12" r="3"/>
                <circle cx="18" cy="19" r="3"/>
                <path d="m8.59 13.51 6.83 3.98"/>
                <path d="m15.41 6.51-6.82 3.98"/>
            </svg>
        );

        const Download = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" x2="12" y1="15" y2="3"/>
            </svg>
        );

        const Trash2 = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <path d="M3 6h18"/>
                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                <line x1="10" x2="10" y1="11" y2="17"/>
                <line x1="14" x2="14" y1="11" y2="17"/>
            </svg>
        );

        const Star = ({ size = 24, filled = false, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </svg>
        );

        const Menu = ({ size = 24, style = {} }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
                <line x1="4" x2="20" y1="12" y2="12"/>
                <line x1="4" x2="20" y1="6" y2="6"/>
                <line x1="4" x2="20" y1="18" y2="18"/>
            </svg>
        );

        // Toast notification component
        const Toast = ({ message, type = 'success', onClose }) => {
          useEffect(() => {
            const timer = setTimeout(onClose, 3000);
            return () => clearTimeout(timer);
          }, []);

          return (
            <div style={{
              position: 'fixed',
              top: '2rem',
              right: '2rem',
              background: type === 'success' ? 'linear-gradient(135deg, #10B981 0%, #059669 100%)' : 'linear-gradient(135deg, #EF4444 0%, #DC2626 100%)',
              color: '#FFF',
              padding: '1rem 1.5rem',
              borderRadius: '12px',
              boxShadow: '0 10px 30px rgba(0,0,0,0.3)',
              zIndex: 10000,
              animation: 'slideIn 0.3s ease-out',
              maxWidth: '300px',
              fontFamily: '"Cormorant Garamond", serif',
              fontSize: '1.1rem'
            }}>
              {message}
            </div>
          );
        };

        // Główny komponent aplikacji
        const WineApp = () => {
          const [image, setImage] = useState(null);
          const [analyzing, setAnalyzing] = useState(false);
          const [result, setResult] = useState(null);
          const [error, setError] = useState(null);
          const [history, setHistory] = useState([]);
          const [favorites, setFavorites] = useState([]);
          const [showHistory, setShowHistory] = useState(false);
          const [showFavorites, setShowFavorites] = useState(false);
          const [toast, setToast] = useState(null);
          const [rating, setRating] = useState(0);
          const fileInputRef = useRef(null);

          // Załaduj historię i ulubione z localStorage
          useEffect(() => {
            const savedHistory = localStorage.getItem('wineHistory');
            const savedFavorites = localStorage.getItem('wineFavorites');
            if (savedHistory) setHistory(JSON.parse(savedHistory));
            if (savedFavorites) setFavorites(JSON.parse(savedFavorites));
          }, []);

          const showToast = (message, type = 'success') => {
            setToast({ message, type });
          };

          const handleImageUpload = (e) => {
            const file = e.target.files[0];
            if (file) {
              // Sprawdź rozmiar pliku (max 5MB)
              if (file.size > 5 * 1024 * 1024) {
                showToast('Plik jest za duży. Maksymalny rozmiar to 5MB.', 'error');
                return;
              }

              const reader = new FileReader();
              reader.onload = (event) => {
                setImage(event.target.result);
                setResult(null);
                setError(null);
                setRating(0);
              };
              reader.readAsDataURL(file);
            }
          };

          const analyzeWine = async () => {
            if (!image) return;

            setAnalyzing(true);
            setError(null);

            try {
              const base64Data = image.split(',')[1];
              
              const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                  model: 'claude-sonnet-4-20250514',
                  max_tokens: 1000,
                  messages: [
                    {
                      role: 'user',
                      content: [
                        {
                          type: 'image',
                          source: {
                            type: 'base64',
                            media_type: 'image/jpeg',
                            data: base64Data
                          }
                        },
                        {
                          type: 'text',
                          text: `Przeanalizuj to zdjęcie etykiety wina i podaj następujące informacje w formacie JSON (odpowiedz TYLKO JSONem, bez żadnych dodatkowych tekstów):

{
  "nazwa": "nazwa wina",
  "producent": "producent",
  "kraj": "kraj pochodzenia",
  "region": "region (jeśli widoczny)",
  "rocznik": "rocznik (jeśli widoczny)",
  "slodosc": "wytrawne/półwytrawne/półsłodkie/słodkie",
  "typ": "czerwone/białe/różowe/musujące",
  "szczegoly": "krótki opis charakterystyki wina (2-3 zdania)",
  "zalecenia": "z czym podawać to wino",
  "cena_szacunkowa": "przybliżona cena w PLN (zakres)"
}

Jeśli nie możesz odczytać jakiejś informacji, wpisz "Brak danych". Dla słodkości określ na podstawie typu wina i informacji na etykiecie.`
                        }
                      ]
                    }
                  ]
                })
              });

              const data = await response.json();
              const content = data.content[0].text;
              const cleanJson = content.replace(/```json|```/g, '').trim();
              const wineData = JSON.parse(cleanJson);
              
              // Dodaj timestamp i zdjęcie
              const wineEntry = {
                ...wineData,
                image: image,
                timestamp: new Date().toISOString(),
                id: Date.now()
              };

              setResult(wineEntry);

              // Dodaj do historii
              const newHistory = [wineEntry, ...history].slice(0, 20); // Zachowaj ostatnie 20
              setHistory(newHistory);
              localStorage.setItem('wineHistory', JSON.stringify(newHistory));

              showToast('Wino przeanalizowane pomyślnie!');
            } catch (err) {
              console.error('Błąd analizy:', err);
              setError('Nie udało się przeanalizować zdjęcia. Spróbuj ponownie z wyraźniejszym zdjęciem etykiety.');
              showToast('Błąd analizy. Spróbuj ponownie.', 'error');
            } finally {
              setAnalyzing(false);
            }
          };

          const toggleFavorite = (wine) => {
            const isFavorite = favorites.some(f => f.id === wine.id);
            let newFavorites;
            
            if (isFavorite) {
              newFavorites = favorites.filter(f => f.id !== wine.id);
              showToast('Usunięto z ulubionych');
            } else {
              newFavorites = [...favorites, { ...wine, rating }];
              showToast('Dodano do ulubionych');
            }
            
            setFavorites(newFavorites);
            localStorage.setItem('wineFavorites', JSON.stringify(newFavorites));
          };

          const deleteFromHistory = (id) => {
            const newHistory = history.filter(h => h.id !== id);
            setHistory(newHistory);
            localStorage.setItem('wineHistory', JSON.stringify(newHistory));
            showToast('Usunięto z historii');
          };

          const shareWine = async (wine) => {
            const shareText = `${wine.nazwa} - ${wine.slodosc}\n${wine.producent}\n${wine.typ} z ${wine.kraj}`;
            
            if (navigator.share) {
              try {
                await navigator.share({
                  title: 'Winoteka - ' + wine.nazwa,
                  text: shareText,
                });
                showToast('Udostępniono pomyślnie');
              } catch (err) {
                if (err.name !== 'AbortError') {
                  console.error('Błąd udostępniania:', err);
                }
              }
            } else {
              // Fallback - kopiuj do schowka
              navigator.clipboard.writeText(shareText);
              showToast('Skopiowano do schowka');
            }
          };

          const downloadReport = (wine) => {
            const report = `
WINOTEKA - RAPORT WINA
=======================

Nazwa: ${wine.nazwa}
Producent: ${wine.producent}
Kraj: ${wine.kraj}
Region: ${wine.region}
Rocznik: ${wine.rocznik}
Typ: ${wine.typ}
Słodkość: ${wine.slodosc}

CHARAKTERYSTYKA:
${wine.szczegoly}

ZALECENIA:
${wine.zalecenia}

${wine.cena_szacunkowa ? 'Szacunkowa cena: ' + wine.cena_szacunkowa : ''}
${wine.rating ? 'Twoja ocena: ' + wine.rating + '/5' : ''}

---
Wygenerowano przez Winoteka
Data: ${new Date().toLocaleDateString('pl-PL')}
            `.trim();

            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `winoteka-${wine.nazwa.replace(/\s+/g, '-')}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            showToast('Raport pobrany');
          };

          const reset = () => {
            setImage(null);
            setResult(null);
            setError(null);
            setRating(0);
            if (fileInputRef.current) {
              fileInputRef.current.value = '';
            }
          };

          const getSweetnessColor = (slodosc) => {
            const sweetness = slodosc?.toLowerCase();
            if (sweetness?.includes('wytrawne')) return '#8B4513';
            if (sweetness?.includes('półwytrawne')) return '#D4A574';
            if (sweetness?.includes('półsłodkie')) return '#E8B4A8';
            if (sweetness?.includes('słodkie')) return '#F4C2C2';
            return '#999';
          };

          const getSweetnessIcon = (slodosc) => {
            const sweetness = slodosc?.toLowerCase();
            if (sweetness?.includes('wytrawne')) return '●○○○';
            if (sweetness?.includes('półwytrawne')) return '●●○○';
            if (sweetness?.includes('półsłodkie')) return '●●●○';
            if (sweetness?.includes('słodkie')) return '●●●●';
            return '○○○○';
          };

          const renderWineCard = (wine, showActions = true) => (
            <div key={wine.id} style={{
              background: 'rgba(139, 69, 19, 0.2)',
              borderRadius: '15px',
              padding: '1.5rem',
              border: '1px solid rgba(212, 165, 116, 0.3)',
              marginBottom: '1rem'
            }}>
              <div style={{ display: 'flex', gap: '1rem', alignItems: 'flex-start' }}>
                {wine.image && (
                  <img 
                    src={wine.image} 
                    alt={wine.nazwa}
                    style={{
                      width: '80px',
                      height: '80px',
                      objectFit: 'cover',
                      borderRadius: '8px',
                      border: '2px solid rgba(212, 165, 116, 0.3)'
                    }}
                  />
                )}
                <div style={{ flex: 1 }}>
                  <h3 style={{
                    fontSize: '1.3rem',
                    color: '#F5E6D3',
                    margin: '0 0 0.3rem 0'
                  }}>{wine.nazwa}</h3>
                  <p style={{
                    fontSize: '1rem',
                    color: '#D4A574',
                    margin: '0 0 0.5rem 0',
                    fontStyle: 'italic'
                  }}>{wine.producent}</p>
                  <div style={{
                    display: 'inline-block',
                    background: getSweetnessColor(wine.slodosc),
                    padding: '0.3rem 0.8rem',
                    borderRadius: '6px',
                    fontSize: '0.9rem',
                    fontWeight: 600,
                    color: '#FFF'
                  }}>
                    {wine.slodosc}
                  </div>
                  {wine.rating && (
                    <div style={{ marginTop: '0.5rem', display: 'flex', gap: '0.2rem' }}>
                      {[1,2,3,4,5].map(i => (
                        <Star key={i} size={16} filled={i <= wine.rating} style={{ color: '#FFD700' }} />
                      ))}
                    </div>
                  )}
                </div>
                {showActions && (
                  <div style={{ display: 'flex', gap: '0.5rem' }}>
                    <button
                      onClick={() => {
                        setResult(wine);
                        setImage(wine.image);
                        setShowHistory(false);
                        setShowFavorites(false);
                      }}
                      style={{
                        background: 'rgba(139, 69, 19, 0.6)',
                        border: 'none',
                        borderRadius: '8px',
                        padding: '0.5rem',
                        cursor: 'pointer',
                        color: '#D4A574'
                      }}
                    >
                      <Info size={20} />
                    </button>
                    {showHistory && (
                      <button
                        onClick={() => deleteFromHistory(wine.id)}
                        style={{
                          background: 'rgba(139, 0, 0, 0.6)',
                          border: 'none',
                          borderRadius: '8px',
                          padding: '0.5rem',
                          cursor: 'pointer',
                          color: '#FFB3B3'
                        }}
                      >
                        <Trash2 size={20} />
                      </button>
                    )}
                  </div>
                )}
              </div>
            </div>
          );

          return (
            <div style={{
              minHeight: '100vh',
              background: 'linear-gradient(135deg, #2C1810 0%, #4A2420 50%, #2C1810 100%)',
              fontFamily: '"Cormorant Garamond", serif',
              color: '#F5E6D3',
              padding: '2rem 1rem',
              position: 'relative',
              overflow: 'hidden'
            }}>
              {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}

              <div style={{
                position: 'absolute',
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundImage: 'radial-gradient(circle at 20% 50%, rgba(139, 69, 19, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(139, 69, 19, 0.1) 0%, transparent 50%)',
                pointerEvents: 'none'
              }} />

              <div style={{
                maxWidth: '900px',
                margin: '0 auto',
                position: 'relative',
                zIndex: 1
              }}>
                {/* Menu górne */}
                <div style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  marginBottom: '2rem',
                  animation: 'fadeInDown 0.8s ease-out'
                }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    gap: '0.8rem'
                  }}>
                    <Wine size={36} style={{ color: '#D4A574' }} />
                    <h1 style={{
                      fontSize: '2.5rem',
                      fontWeight: 600,
                      margin: 0,
                      color: '#F5E6D3'
                    }}>Winoteka</h1>
                  </div>

                  <div style={{ display: 'flex', gap: '0.5rem' }}>
                    <button
                      onClick={() => {
                        setShowHistory(!showHistory);
                        setShowFavorites(false);
                      }}
                      style={{
                        background: showHistory ? 'rgba(139, 69, 19, 0.9)' : 'rgba(60, 40, 30, 0.6)',
                        border: '1px solid rgba(212, 165, 116, 0.4)',
                        borderRadius: '10px',
                        padding: '0.7rem',
                        cursor: 'pointer',
                        color: '#D4A574',
                        position: 'relative'
                      }}
                    >
                      <History size={24} />
                      {history.length > 0 && (
                        <span style={{
                          position: 'absolute',
                          top: '-5px',
                          right: '-5px',
                          background: '#DC2626',
                          color: '#FFF',
                          borderRadius: '50%',
                          width: '20px',
                          height: '20px',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          fontSize: '0.7rem',
                          fontWeight: 600
                        }}>{history.length}</span>
                      )}
                    </button>

                    <button
                      onClick={() => {
                        setShowFavorites(!showFavorites);
                        setShowHistory(false);
                      }}
                      style={{
                        background: showFavorites ? 'rgba(139, 69, 19, 0.9)' : 'rgba(60, 40, 30, 0.6)',
                        border: '1px solid rgba(212, 165, 116, 0.4)',
                        borderRadius: '10px',
                        padding: '0.7rem',
                        cursor: 'pointer',
                        color: '#D4A574',
                        position: 'relative'
                      }}
                    >
                      <Heart size={24} filled={favorites.length > 0} />
                      {favorites.length > 0 && (
                        <span style={{
                          position: 'absolute',
                          top: '-5px',
                          right: '-5px',
                          background: '#DC2626',
                          color: '#FFF',
                          borderRadius: '50%',
                          width: '20px',
                          height: '20px',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          fontSize: '0.7rem',
                          fontWeight: 600
                        }}>{favorites.length}</span>
                      )}
                    </button>
                  </div>
                </div>

                {/* Historia */}
                {showHistory && (
                  <div style={{
                    background: 'rgba(60, 40, 30, 0.9)',
                    borderRadius: '20px',
                    padding: '2rem',
                    marginBottom: '2rem',
                    animation: 'fadeIn 0.5s ease-out'
                  }}>
                    <h2 style={{
                      fontSize: '1.8rem',
                      color: '#F5E6D3',
                      marginBottom: '1.5rem',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '0.5rem'
                    }}>
                      <History size={28} style={{ color: '#D4A574' }} />
                      Historia skanowań
                    </h2>
                    {history.length === 0 ? (
                      <p style={{ color: '#D4A574', textAlign: 'center', fontSize: '1.1rem' }}>
                        Brak historii. Zeskanuj swoje pierwsze wino!
                      </p>
                    ) : (
                      <div style={{ maxHeight: '500px', overflowY: 'auto' }}>
                        {history.map(wine => renderWineCard(wine, true))}
                      </div>
                    )}
                  </div>
                )}

                {/* Ulubione */}
                {showFavorites && (
                  <div style={{
                    background: 'rgba(60, 40, 30, 0.9)',
                    borderRadius: '20px',
                    padding: '2rem',
                    marginBottom: '2rem',
                    animation: 'fadeIn 0.5s ease-out'
                  }}>
                    <h2 style={{
                      fontSize: '1.8rem',
                      color: '#F5E6D3',
                      marginBottom: '1.5rem',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '0.5rem'
                    }}>
                      <Heart size={28} style={{ color: '#DC2626' }} filled />
                      Ulubione wina
                    </h2>
                    {favorites.length === 0 ? (
                      <p style={{ color: '#D4A574', textAlign: 'center', fontSize: '1.1rem' }}>
                        Brak ulubionych. Dodaj swoje ulubione wina!
                      </p>
                    ) : (
                      <div style={{ maxHeight: '500px', overflowY: 'auto' }}>
                        {favorites.map(wine => renderWineCard(wine, false))}
                      </div>
                    )}
                  </div>
                )}

                {/* Główna karta - ukryj gdy pokazana jest historia lub ulubione */}
                {!showHistory && !showFavorites && (
                  <div style={{
                    background: 'rgba(60, 40, 30, 0.9)',
                    borderRadius: '20px',
                    padding: '2.5rem',
                    boxShadow: '0 20px 60px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1)',
                    border: '1px solid rgba(212, 165, 116, 0.2)',
                    backdropFilter: 'blur(10px)',
                    animation: 'fadeInUp 0.8s ease-out 0.2s backwards'
                  }}>
                    {!image ? (
                      <div style={{ textAlign: 'center' }}>
                        <input
                          ref={fileInputRef}
                          type="file"
                          accept="image/*"
                          capture="environment"
                          onChange={handleImageUpload}
                          style={{ display: 'none' }}
                          id="wine-upload"
                        />
                        
                        <label
                          htmlFor="wine-upload"
                          style={{
                            display: 'inline-block',
                            cursor: 'pointer',
                            transition: 'all 0.3s ease'
                          }}
                        >
                          <div style={{
                            background: 'linear-gradient(135deg, #8B4513 0%, #A0522D 100%)',
                            border: '3px dashed #D4A574',
                            borderRadius: '15px',
                            padding: '4rem 2rem',
                            transition: 'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)',
                            transform: 'scale(1)',
                          }}
                          onMouseEnter={(e) => {
                            e.currentTarget.style.transform = 'scale(1.02)';
                            e.currentTarget.style.borderColor = '#F5E6D3';
                            e.currentTarget.style.boxShadow = '0 10px 40px rgba(212, 165, 116, 0.3)';
                          }}
                          onMouseLeave={(e) => {
                            e.currentTarget.style.transform = 'scale(1)';
                            e.currentTarget.style.borderColor = '#D4A574';
                            e.currentTarget.style.boxShadow = 'none';
                          }}>
                            <Camera size={64} style={{ 
                              color: '#F5E6D3',
                              marginBottom: '1.5rem',
                              filter: 'drop-shadow(0 4px 6px rgba(0,0,0,0.3))'
                            }} />
                            <p style={{
                              fontSize: '1.5rem',
                              fontWeight: 600,
                              color: '#F5E6D3',
                              margin: '0 0 0.5rem 0'
                            }}>Zeskanuj etykietę wina</p>
                            <p style={{
                              fontSize: '1.1rem',
                              color: '#D4A574',
                              margin: 0,
                              fontStyle: 'italic'
                            }}>Kliknij, aby przesłać zdjęcie</p>
                          </div>
                        </label>

                        <div style={{
                          marginTop: '2rem',
                          padding: '1.5rem',
                          background: 'rgba(139, 69, 19, 0.2)',
                          borderRadius: '10px',
                          border: '1px solid rgba(212, 165, 116, 0.3)'
                        }}>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem', justifyContent: 'center' }}>
                            <Info size={20} style={{ color: '#D4A574' }} />
                            <p style={{ fontSize: '1.1rem', fontWeight: 600, margin: 0, color: '#D4A574' }}>
                              Jak to działa?
                            </p>
                          </div>
                          <p style={{ fontSize: '1rem', color: '#E5D5C3', margin: '0.5rem 0 0 0', lineHeight: '1.6' }}>
                            Zrób wyraźne zdjęcie etykiety wina. Nasza aplikacja wykorzysta sztuczną inteligencję, 
                            aby rozpoznać typ wina i określić jego słodkość: wytrawne, półwytrawne, półsłodkie czy słodkie.
                          </p>
                        </div>
                      </div>
                    ) : (
                      <div>
                        <div style={{
                          position: 'relative',
                          borderRadius: '12px',
                          overflow: 'hidden',
                          marginBottom: '2rem',
                          boxShadow: '0 10px 30px rgba(0,0,0,0.4)',
                          border: '2px solid rgba(212, 165, 116, 0.3)'
                        }}>
                          <img
                            src={image}
                            alt="Etykieta wina"
                            style={{
                              width: '100%',
                              maxHeight: '400px',
                              objectFit: 'contain',
                              display: 'block',
                              background: '#1a1410'
                            }}
                          />
                          <button
                            onClick={reset}
                            style={{
                              position: 'absolute',
                              top: '1rem',
                              right: '1rem',
                              background: 'rgba(0,0,0,0.7)',
                              border: 'none',
                              borderRadius: '50%',
                              width: '40px',
                              height: '40px',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              cursor: 'pointer',
                              transition: 'all 0.3s ease',
                              backdropFilter: 'blur(5px)'
                            }}
                            onMouseEnter={(e) => {
                              e.currentTarget.style.background = 'rgba(139, 69, 19, 0.9)';
                              e.currentTarget.style.transform = 'scale(1.1)';
                            }}
                            onMouseLeave={(e) => {
                              e.currentTarget.style.background = 'rgba(0,0,0,0.7)';
                              e.currentTarget.style.transform = 'scale(1)';
                            }}
                          >
                            <X size={24} color="#F5E6D3" />
                          </button>
                        </div>

                        {result && (
                          <div style={{
                            animation: 'fadeIn 0.5s ease-out',
                            background: 'rgba(139, 69, 19, 0.2)',
                            borderRadius: '15px',
                            padding: '2rem',
                            border: '1px solid rgba(212, 165, 116, 0.3)'
                          }}>
                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                              <div style={{ flex: 1 }}>
                                <h2 style={{
                                  fontSize: '2.2rem',
                                  fontWeight: 600,
                                  color: '#F5E6D3',
                                  marginBottom: '0.5rem'
                                }}>{result.nazwa}</h2>
                                
                                {result.producent !== 'Brak danych' && (
                                  <p style={{
                                    fontSize: '1.2rem',
                                    color: '#D4A574',
                                    fontStyle: 'italic',
                                    marginBottom: '1rem'
                                  }}>{result.producent}</p>
                                )}
                              </div>

                              {/* Akcje */}
                              <div style={{ display: 'flex', gap: '0.5rem' }}>
                                <button
                                  onClick={() => toggleFavorite(result)}
                                  style={{
                                    background: 'rgba(139, 69, 19, 0.6)',
                                    border: 'none',
                                    borderRadius: '10px',
                                    padding: '0.7rem',
                                    cursor: 'pointer',
                                    color: favorites.some(f => f.id === result.id) ? '#DC2626' : '#D4A574',
                                    transition: 'all 0.3s ease'
                                  }}
                                  onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'}
                                  onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                                >
                                  <Heart size={24} filled={favorites.some(f => f.id === result.id)} />
                                </button>
                                <button
                                  onClick={() => shareWine(result)}
                                  style={{
                                    background: 'rgba(139, 69, 19, 0.6)',
                                    border: 'none',
                                    borderRadius: '10px',
                                    padding: '0.7rem',
                                    cursor: 'pointer',
                                    color: '#D4A574',
                                    transition: 'all 0.3s ease'
                                  }}
                                  onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'}
                                  onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                                >
                                  <Share2 size={24} />
                                </button>
                                <button
                                  onClick={() => downloadReport(result)}
                                  style={{
                                    background: 'rgba(139, 69, 19, 0.6)',
                                    border: 'none',
                                    borderRadius: '10px',
                                    padding: '0.7rem',
                                    cursor: 'pointer',
                                    color: '#D4A574',
                                    transition: 'all 0.3s ease'
                                  }}
                                  onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'}
                                  onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                                >
                                  <Download size={24} />
                                </button>
                              </div>
                            </div>

                            {/* Ocena gwiazdkowa */}
                            <div style={{
                              background: 'rgba(60, 40, 30, 0.6)',
                              padding: '1rem',
                              borderRadius: '10px',
                              marginBottom: '1.5rem',
                              border: '1px solid rgba(212, 165, 116, 0.2)'
                            }}>
                              <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.5rem 0', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Twoja ocena</p>
                              <div style={{ display: 'flex', gap: '0.3rem' }}>
                                {[1,2,3,4,5].map(i => (
                                  <button
                                    key={i}
                                    onClick={() => setRating(i)}
                                    style={{
                                      background: 'transparent',
                                      border: 'none',
                                      cursor: 'pointer',
                                      padding: '0.2rem',
                                      transition: 'transform 0.2s ease'
                                    }}
                                    onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.2)'}
                                    onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                                  >
                                    <Star size={28} filled={i <= rating} style={{ color: '#FFD700' }} />
                                  </button>
                                ))}
                              </div>
                            </div>

                            <div style={{
                              background: getSweetnessColor(result.slodosc),
                              padding: '1.5rem',
                              borderRadius: '12px',
                              marginBottom: '2rem',
                              textAlign: 'center',
                              boxShadow: '0 4px 12px rgba(0,0,0,0.3)',
                              border: '2px solid rgba(255,255,255,0.2)'
                            }}>
                              <Droplets size={32} style={{ 
                                color: '#FFF',
                                marginBottom: '0.5rem',
                                filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.3))'
                              }} />
                              <p style={{
                                fontSize: '1.8rem',
                                fontWeight: 700,
                                color: '#FFF',
                                margin: '0.5rem 0',
                                textTransform: 'uppercase',
                                letterSpacing: '0.1em',
                                textShadow: '1px 1px 3px rgba(0,0,0,0.4)'
                              }}>{result.slodosc}</p>
                              <p style={{
                                fontSize: '1.5rem',
                                color: '#FFF',
                                margin: 0,
                                letterSpacing: '0.2em',
                                opacity: 0.9
                              }}>{getSweetnessIcon(result.slodosc)}</p>
                            </div>

                            <div style={{
                              display: 'grid',
                              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',
                              gap: '1rem',
                              marginBottom: '2rem'
                            }}>
                              {result.typ !== 'Brak danych' && (
                                <div style={{
                                  background: 'rgba(60, 40, 30, 0.6)',
                                  padding: '1rem',
                                  borderRadius: '10px',
                                  border: '1px solid rgba(212, 165, 116, 0.2)'
                                }}>
                                  <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.3rem 0', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Typ</p>
                                  <p style={{ fontSize: '1.2rem', color: '#F5E6D3', margin: 0, fontWeight: 600 }}>{result.typ}</p>
                                </div>
                              )}
                              
                              {result.kraj !== 'Brak danych' && (
                                <div style={{
                                  background: 'rgba(60, 40, 30, 0.6)',
                                  padding: '1rem',
                                  borderRadius: '10px',
                                  border: '1px solid rgba(212, 165, 116, 0.2)'
                                }}>
                                  <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.3rem 0', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Kraj</p>
                                  <p style={{ fontSize: '1.2rem', color: '#F5E6D3', margin: 0, fontWeight: 600 }}>{result.kraj}</p>
                                </div>
                              )}

                              {result.region !== 'Brak danych' && (
                                <div style={{
                                  background: 'rgba(60, 40, 30, 0.6)',
                                  padding: '1rem',
                                  borderRadius: '10px',
                                  border: '1px solid rgba(212, 165, 116, 0.2)'
                                }}>
                                  <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.3rem 0', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Region</p>
                                  <p style={{ fontSize: '1.2rem', color: '#F5E6D3', margin: 0, fontWeight: 600 }}>{result.region}</p>
                                </div>
                              )}

                              {result.rocznik !== 'Brak danych' && (
                                <div style={{
                                  background: 'rgba(60, 40, 30, 0.6)',
                                  padding: '1rem',
                                  borderRadius: '10px',
                                  border: '1px solid rgba(212, 165, 116, 0.2)'
                                }}>
                                  <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.3rem 0', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Rocznik</p>
                                  <p style={{ fontSize: '1.2rem', color: '#F5E6D3', margin: 0, fontWeight: 600 }}>{result.rocznik}</p>
                                </div>
                              )}

                              {result.cena_szacunkowa && result.cena_szacunkowa !== 'Brak danych' && (
                                <div style={{
                                  background: 'rgba(60, 40, 30, 0.6)',
                                  padding: '1rem',
                                  borderRadius: '10px',
                                  border: '1px solid rgba(212, 165, 116, 0.2)'
                                }}>
                                  <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.3rem 0', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Cena szacunkowa</p>
                                  <p style={{ fontSize: '1.2rem', color: '#F5E6D3', margin: 0, fontWeight: 600 }}>{result.cena_szacunkowa}</p>
                                </div>
                              )}
                            </div>

                            {result.szczegoly !== 'Brak danych' && (
                              <div style={{
                                background: 'rgba(60, 40, 30, 0.6)',
                                padding: '1.5rem',
                                borderRadius: '12px',
                                marginBottom: '1rem',
                                border: '1px solid rgba(212, 165, 116, 0.2)'
                              }}>
                                <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.5rem 0', textTransform: 'uppercase', letterSpacing: '0.1em', fontWeight: 600 }}>Charakterystyka</p>
                                <p style={{ fontSize: '1.1rem', color: '#E5D5C3', margin: 0, lineHeight: '1.6' }}>{result.szczegoly}</p>
                              </div>
                            )}

                            {result.zalecenia !== 'Brak danych' && (
                              <div style={{
                                background: 'rgba(60, 40, 30, 0.6)',
                                padding: '1.5rem',
                                borderRadius: '12px',
                                border: '1px solid rgba(212, 165, 116, 0.2)'
                              }}>
                                <p style={{ fontSize: '0.9rem', color: '#D4A574', margin: '0 0 0.5rem 0', textTransform: 'uppercase', letterSpacing: '0.1em', fontWeight: 600 }}>Z czym podawać</p>
                                <p style={{ fontSize: '1.1rem', color: '#E5D5C3', margin: 0, lineHeight: '1.6' }}>{result.zalecenia}</p>
                              </div>
                            )}
                          </div>
                        )}

                        {error && (
                          <div style={{
                            background: 'rgba(139, 0, 0, 0.3)',
                            border: '1px solid rgba(255, 100, 100, 0.5)',
                            borderRadius: '10px',
                            padding: '1rem',
                            marginBottom: '1rem',
                            color: '#FFB3B3',
                            animation: 'shake 0.5s ease-out'
                          }}>
                            <p style={{ margin: 0, fontSize: '1rem' }}>{error}</p>
                          </div>
                        )}

                        <div style={{
                          display: 'flex',
                          gap: '1rem',
                          marginTop: '2rem',
                          flexWrap: 'wrap'
                        }}>
                          {!result && (
                            <button
                              onClick={analyzeWine}
                              disabled={analyzing}
                              style={{
                                flex: 1,
                                minWidth: '200px',
                                background: analyzing 
                                  ? 'linear-gradient(135deg, #666 0%, #888 100%)'
                                  : 'linear-gradient(135deg, #8B4513 0%, #A0522D 100%)',
                                color: '#FFF',
                                border: 'none',
                                borderRadius: '12px',
                                padding: '1rem 2rem',
                                fontSize: '1.2rem',
                                fontWeight: 600,
                                cursor: analyzing ? 'not-allowed' : 'pointer',
                                transition: 'all 0.3s ease',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                gap: '0.5rem',
                                fontFamily: '"Cormorant Garamond", serif',
                                letterSpacing: '0.05em',
                                boxShadow: '0 4px 15px rgba(0,0,0,0.3)',
                                textTransform: 'uppercase'
                              }}
                              onMouseEnter={(e) => {
                                if (!analyzing) {
                                  e.currentTarget.style.transform = 'translateY(-2px)';
                                  e.currentTarget.style.boxShadow = '0 6px 20px rgba(139, 69, 19, 0.4)';
                                }
                              }}
                              onMouseLeave={(e) => {
                                e.currentTarget.style.transform = 'translateY(0)';
                                e.currentTarget.style.boxShadow = '0 4px 15px rgba(0,0,0,0.3)';
                              }}
                            >
                              {analyzing ? (
                                <>
                                  <Loader2 size={24} style={{ animation: 'spin 1s linear infinite' }} />
                                  Analizuję...
                                </>
                              ) : (
                                <>
                                  <Wine size={24} />
                                  Analizuj wino
                                </>
                              )}
                            </button>
                          )}

                          <button
                            onClick={reset}
                            style={{
                              flex: result ? 1 : 'none',
                              minWidth: '150px',
                              background: 'rgba(60, 40, 30, 0.6)',
                              color: '#D4A574',
                              border: '2px solid rgba(212, 165, 116, 0.4)',
                              borderRadius: '12px',
                              padding: '1rem 2rem',
                              fontSize: '1.2rem',
                              fontWeight: 600,
                              cursor: 'pointer',
                              transition: 'all 0.3s ease',
                              fontFamily: '"Cormorant Garamond", serif',
                              letterSpacing: '0.05em',
                              textTransform: 'uppercase'
                            }}
                            onMouseEnter={(e) => {
                              e.currentTarget.style.background = 'rgba(60, 40, 30, 0.9)';
                              e.currentTarget.style.borderColor = '#D4A574';
                              e.currentTarget.style.transform = 'translateY(-2px)';
                            }}
                            onMouseLeave={(e) => {
                              e.currentTarget.style.background = 'rgba(60, 40, 30, 0.6)';
                              e.currentTarget.style.borderColor = 'rgba(212, 165, 116, 0.4)';
                              e.currentTarget.style.transform = 'translateY(0)';
                            }}
                          >
                            {result ? 'Skanuj kolejne wino' : 'Zmień zdjęcie'}
                          </button>
                        </div>
                      </div>
                    )}
                  </div>
                )}

                {/* Legenda słodkości - tylko gdy nie ma historii/ulubionych */}
                {!showHistory && !showFavorites && (
                  <div style={{
                    marginTop: '2rem',
                    background: 'rgba(60, 40, 30, 0.6)',
                    borderRadius: '15px',
                    padding: '1.5rem',
                    border: '1px solid rgba(212, 165, 116, 0.2)',
                    animation: 'fadeInUp 0.8s ease-out 0.4s backwards'
                  }}>
                    <h3 style={{
                      fontSize: '1.3rem',
                      color: '#D4A574',
                      marginBottom: '1rem',
                      textAlign: 'center',
                      fontWeight: 600,
                      letterSpacing: '0.1em'
                    }}>Skala słodkości win</h3>
                    <div style={{
                      display: 'grid',
                      gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',
                      gap: '1rem'
                    }}>
                      {[
                        { name: 'Wytrawne', color: '#8B4513', icon: '●○○○' },
                        { name: 'Półwytrawne', color: '#D4A574', icon: '●●○○' },
                        { name: 'Półsłodkie', color: '#E8B4A8', icon: '●●●○' },
                        { name: 'Słodkie', color: '#F4C2C2', icon: '●●●●' }
                      ].map((item, i) => (
                        <div
                          key={i}
                          style={{
                            background: item.color,
                            padding: '0.8rem',
                            borderRadius: '8px',
                            textAlign: 'center',
                            border: '1px solid rgba(255,255,255,0.2)',
                            transition: 'transform 0.3s ease',
                            cursor: 'default'
                          }}
                          onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.05)'}
                          onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                        >
                          <p style={{
                            fontSize: '1rem',
                            fontWeight: 600,
                            color: '#FFF',
                            margin: '0 0 0.3rem 0',
                            textShadow: '1px 1px 2px rgba(0,0,0,0.3)'
                          }}>{item.name}</p>
                          <p style={{
                            fontSize: '1.2rem',
                            color: '#FFF',
                            margin: 0,
                            letterSpacing: '0.2em'
                          }}>{item.icon}</p>
                        </div>
                      ))}
                    </div>
                  </div>
                )}

                {/* Stopka */}
                <div style={{
                  marginTop: '3rem',
                  textAlign: 'center',
                  padding: '1.5rem',
                  background: 'rgba(60, 40, 30, 0.4)',
                  borderRadius: '12px',
                  border: '1px solid rgba(212, 165, 116, 0.2)'
                }}>
                  <p style={{
                    fontSize: '0.9rem',
                    color: '#D4A574',
                    margin: 0,
                    lineHeight: '1.6'
                  }}>
                    Powered by Claude AI • Winoteka v2.0<br/>
                    © 2026 Winoteka - Odkryj świat wina
                  </p>
                </div>
              </div>

              <style>{`
                @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap');
                
                @keyframes fadeIn {
                  from { opacity: 0; }
                  to { opacity: 1; }
                }
                
                @keyframes fadeInDown {
                  from {
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
                
                @keyframes fadeInUp {
                  from {
                    opacity: 0;
                    transform: translateY(20px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
                
                @keyframes spin {
                  from { transform: rotate(0deg); }
                  to { transform: rotate(360deg); }
                }
                
                @keyframes shake {
                  0%, 100% { transform: translateX(0); }
                  25% { transform: translateX(-10px); }
                  75% { transform: translateX(10px); }
                }

                @keyframes slideIn {
                  from {
                    transform: translateX(400px);
                    opacity: 0;
                  }
                  to {
                    transform: translateX(0);
                    opacity: 1;
                  }
                }

                /* Scrollbar styling */
                ::-webkit-scrollbar {
                  width: 8px;
                }

                ::-webkit-scrollbar-track {
                  background: rgba(60, 40, 30, 0.3);
                  border-radius: 4px;
                }

                ::-webkit-scrollbar-thumb {
                  background: rgba(212, 165, 116, 0.5);
                  border-radius: 4px;
                }

                ::-webkit-scrollbar-thumb:hover {
                  background: rgba(212, 165, 116, 0.8);
                }
              `}</style>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WineApp />);
    </script>
</body>
</html>